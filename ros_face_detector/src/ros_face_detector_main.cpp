/**
 ******************************************************************************
 * @file        ros_faceDetector_main.cpp
 * @version     1.00
 * @date        1/01/2016
 * @author      Carles Oró, Oriol Orra, Ismael Rodríguez, Juan Pedro López
 * @brief       Main ROS app to control face detection node.
 ******************************************************************************
 */

#define ROS_faceDetector_MAIN_C_

/******************************************************************************
 * MODULES USED
 *****************************************************************************/

#include "ros_face_detector_node.h"

/******************************************************************************
 * DEFINITIONS AND MACROS
 *****************************************************************************/

/******************************************************************************
 * TYPEDEFS AND STRUCTURES
 *****************************************************************************/

/******************************************************************************
 * PROTOTYPES OF LOCAL FUNCTIONS
 *****************************************************************************/

/******************************************************************************
 * LOCAL VARIABLES
 *****************************************************************************/

/******************************************************************************
 * EXPORTED FUNCTIONS
 *****************************************************************************/

/******************************************************************************
 * LOCAL FUNCTIONS
 *****************************************************************************/

int main(int argc, char **argv)
{
    // Init ros
    ros::init(argc, argv, "ros_faceDetector");

    // Create ros wrapper object
    RosFaceDetectorNode faceDetector;

    // Set node loop rate
    ros::Rate loopRate(faceDetector.getRate());

    // Node loop
    while ( ros::ok() ) {
        // Execute pending callbacks
        ros::spinOnce();

        // Detect faces
        faceDetector.detectFace();

        // Publish things
        faceDetector.publish();

        // Relax to fit output rate
        loopRate.sleep();
    }

    // Exit program
    return 0;
}

/******************************************************************************
 * EOF
 *****************************************************************************/
